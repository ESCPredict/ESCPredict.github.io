<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="output.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="chart1.js"></script>
  <script src="chart2.js"></script>
</head>

<body class="bg-body">



  <!-- Main Content -->
  <div class="flex flex-col md:flex-row justify-center mt-4 items-center px-4">
    
    <main class="flex-1 p-4 md:p-6 max-w-4xl">
     <!-- Navigation Bar -->
     <div class="flex flex-col md:flex-row justify-center items-center mt-4 ">
        <ul class="flex flex-wrap mb-4 items-center text-lg text-nav font-mono space-x-6 justify-center lg:justify-center md:justify-start w-full">
          <li><a href="index.html" class="hover:text-black font-semibold">ESCPredict</a></li>
          <li><a href="about.html" class="hover:text-black font-semibold">Über uns</a></li>
          <li><a href="Odds.html" class="hover:text-black font-semibold">Quoten</a></li>
          <li><a href="demo.html" class="hover:text-black font-semibold">Demo</a></li>
          <li><a href="https://github.com/joris-parthier/Implementierung-Boosting-Algorithmen-ESC" class="text-orange-500 font-semibold">Github</a></li>
        </ul>
      </div>
     
        <div class="text-left">
        <h1 class="text-base font-semibold border-l-2 border-orange-500 pl-3 mb-6 text-gray-900 font-mono">
          Demo
        </h1>
     
        </div>
        <form action="/submit" method="POST" class="max-w-6xl mx-auto  bg-transparent border border-black p-6">
            <!-- Teilnehmernummer -->
            <div class="mb-4">
                <label for="participant-number" class="block text-base mb-4 font-semibold underline decoration-gray-500 text-gray-700">Teilnehmernummer</label>
                <p class="mb-2 mt-4 text-[#737373]">Geben Sie eine Zahl zwischen 1 und 17 ein</p>
        
                <input type="number" id="participant-number" name="participant_number" min="1" max="17" class="mt-1 p-2 w-full border border-gray-300  focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
            </div>
            <!-- Laufnummer -->
            <div class="mb-4">
                <label for="running-order" class="block text-base font-semibold underline decoration-gray-500 mb-4 text-gray-700">Startreihenfolge</label>
                <p class="mb-2 mt-4 text-[#737373]">Geben Sie eine Zahl zwischen 1 und 17 ein</p>
                <input type="number" id="running-order" name="running_order" min="1" max="17" class="mt-1 p-2 w-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
            </div>
        
            <!-- Künstlername -->
            <div class="mb-4">
                <label for="artist-name" class="block text-base font-semibold underline decoration-gray-500 mb-4 text-gray-700">Künstlername</label>
                <p class="mb-2 mt-4 text-[#737373]">Echter Künstlername wie Loreen</p>
        
                <input type="text" id="artist-name" name="artist_name" class="mt-1 p-2 w-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
            </div>
        
            <!-- Songname -->
            <div class="mb-4">
                <label for="song-name" class="block text-base font-semibold underline decoration-gray-500 mb-4 text-gray-700">Songname</label>
                <p class="mb-2 mt-4 text-[#737373]">Echter Songname wie Tattoo</p>
        
                <input type="text" id="song-name" name="song_name" class="mt-1 p-2 w-full border border-gray-300  focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
            </div>
        
            <!-- YouTube-Link zum Musikvideo -->
            <div class="mb-4">
                <label for="youtube-link" class="block text-base font-semibold underline decoration-gray-500 mb-4 text-gray-700">
                    YouTube-Link
                </label>
                <input type="url" id="youtube-link" name="youtube_link" 
                       class="mt-1 p-2 w-full border border-gray-300  focus:outline-none focus:ring-2 focus:ring-indigo-500" 
                       placeholder="https://www.youtube.com/watch?v=dQw4w9WgXcQ" required>
            </div>
        
            <!-- Länder Dropdown -->
            <div class="mb-4">
                <label for="country" class="block text-base font-semibold underline decoration-gray-500 mb-4 text-gray-700">Land</label>
              
                <select id="country" name="country" class="mt-1 p-2 w-full border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    <option value="" disabled selected>Wählen Sie ein Land</option>
                    <option value="">Albanien 🇦🇱</option>
                    <option value="">Armenien 🇦🇲</option>
                    <option value="">Australien 🇦🇺</option>
                    <option value="">Österreich 🇦🇹</option>
                    <option value="">Aserbaidschan 🇦🇿</option>
                    <option value="">Belgien 🇧🇪</option>
                    <option value="">Kroatien 🇭🇷</option>
                    <option value="">Zypern 🇨🇾</option>
                    <option value="">Tschechien 🇨🇿</option>
                    <option value="">Dänemark 🇩🇰</option>
                    <option value="">Estland 🇪🇪</option>
                    <option value="">Finnland 🇫🇮</option>
                    <option value="">Frankreich 🇫🇷</option>
                    <option value="">Georgien 🇬🇪</option>
                    <option value="">Deutschland 🇩🇪</option>
                    <option value="">Griechenland 🇬🇷</option>
                    <option value="">Island 🇮🇸</option>
                    <option value="">Irland 🇮🇪</option>
                    <option value="">Israel 🇮🇱</option>
                    <option value="">Italien 🇮🇹</option>
                    <option value="">Lettland 🇱🇻</option>
                    <option value="">Litauen 🇱🇹</option>
                    <option value="">Luxemburg 🇱🇺</option>
                    <option value="">Malta 🇲🇹</option>
                    <option value="">Moldawien 🇲🇩</option>
                    <option value="">Montenegro 🇲🇪</option>
                    <option value="">Niederlande 🇳🇱</option>
                    <option value="">Norwegen 🇳🇴</option>
                    <option value="">Polen 🇵🇱</option>
                    <option value="">Portugal 🇵🇹</option>
                    <option value="">Rumänien 🇷🇴</option>
                    <option value="">Russland 🇷🇺</option>
                    <option value="">San Marino 🇸🇲</option>
                    <option value="">Serbien 🇷🇸</option>
                    <option value="">Slowakei 🇸🇰</option>
                    <option value="">Slowenien 🇸🇮</option>
                    <option value="">Spanien 🇪🇸</option>
                    <option value="">Schweden 🇸🇪</option>
                    <option value="">Schweiz 🇨🇭</option>
                    <option value="">Türkei 🇹🇷</option>
                    <option value="">Ukraine 🇺🇦</option>
                    <option value="">Vereinigtes Königreich 🇬🇧</option>
                    <option value="">Vereinigte Staaten 🇺🇸</option>
                    <option value="">Kanada 🇨🇦</option>
                    <option value="">Sonstiges 🌍</option>
                </select>
            </div>
        
            <!-- ELO Punktzahl Slider -->
            <div class="mb-4">
                <label for="elo-score" class="block text-base font-semibold underline decoration-gray-500 mb-4 text-gray-700">ELO Punktzahl</label>
                <input type="range" id="elo-score" name="elo_score" min="0" max="3000" step="10" value="1500" class="mt-1 w-full h-2 bg-indigo-200 rounded-lg appearance-none focus:outline-none focus:ring-2 focus:ring-indigo-500">
                <div class="flex justify-between text-sm">
                    <span>0</span>
                    <span>3000</span>
                </div>
                <div class="text-center mt-2">
                    <span class="text-gray-600">Aktuelle Punktzahl: <span id="elo-score-value">1500</span></span>
                </div>
            </div>
        
            <!-- Absenden-Button -->
            <div class="mt-6 text-center">
                <button type="submit" class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    Absenden
                </button>
            </div>
        </form>
        
        
        <!-- JavaScript to display the ELO score value -->
        <script>
            const eloSlider = document.getElementById('elo-score');
            const eloValue = document.getElementById('elo-score-value');
            eloSlider.addEventListener('input', () => {
                eloValue.textContent = eloSlider.value;
            });
        </script>

    </main>
  </div>

  <!-- Footer -->
  <footer class="font-mono mt-8 text-sm text-gray-700 text-center p-4">
    <div class="max-w-6xl mx-auto">
      <ul class="flex flex-wrap justify-center space-x-4">
        <li><a href="https://github.com/joris-parthier/Implementierung-Boosting-Algorithmen-ESC" class="hover:text-black font-medium">Github</a></li>
        <li><a href="#" class="hover:text-black font-medium">Terms</a></li>
        <li class="hover:text-black font-medium">© 2025 ESCPredict</li>
      </ul>
    </div>
  </footer>

</body>
<script>
    document.querySelector("form").addEventListener("submit", async function (event) {
        event.preventDefault(); // Prevent traditional form submission

        // Collecting form data
        const runningOrder = document.getElementById("running-order").value;
        const numParticipants = document.getElementById("participant-number").value;
        const artistName = document.getElementById("artist-name").value;
        const songTitle = document.getElementById("song-name").value;
        const youtubeUrl = document.getElementById("youtube-link").value;
        const country = document.getElementById("country").value;
        const eloScore = document.getElementById("elo-score").value;

        // Construct JSON data
        const data = {
            running_order: parseInt(runningOrder),
            num_participants: parseInt(numParticipants),
            artist_name: artistName,
            song_title: songTitle,
            youtube_url: youtubeUrl,
            country: country,
            elo_score: parseInt(eloScore),
        };

        console.log("Data being sent:", data); // Log the data to verify

        try {
            const response = await fetch("https://5b85-84-137-200-212.ngrok-free.app/predict", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            });

            // Check if the response is okay
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }

            const result = await response.json();
            console.log("Response from server:", result); // Log the server response
            alert("Prediction Result: " + JSON.stringify(result));
        } catch (error) {
            console.error("Error:", error); // Log the error in the console
            alert("Failed to submit data. Please try again. Check the console for errors.");
        }
    });
</script>

</html>
